<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artesanas | PATAC México - Las Manos Detrás del Arte Textil</title>
    <meta name="description" content="Conoce a los artesanos indígenas de PATAC México. Historias de vida, técnicas ancestrales y el impacto transformador del comercio justo.">
    <meta name="keywords" content="artesanos indígenas, textiles mexicanos, artesanía textil, patrimonio cultural, comercio justo">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://patac.org/artesanos.html">
    <meta property="og:title" content="Artesanas | PATAC México - Las Manos Detrás del Arte Textil">
    <meta property="og:description" content="Conoce a los artesanos indígenas que preservan técnicas textiles ancestrales. Cada pieza cuenta una historia de resistencia cultural y esperanza.">
    <meta property="og:image" content="https://patac.org/assets/images/artesanos/og-artesanos.jpg">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://patac.org/artesanos.html">
    <meta property="twitter:title" content="Artesanas | PATAC México - Las Manos Detrás del Arte Textil">
    <meta property="twitter:description" content="Conoce a los artesanos indígenas que preservan técnicas textiles ancestrales.">
    <meta property="twitter:image" content="https://patac.org/assets/images/artesanos/og-artesanos.jpg">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="PATAC México" />
    <link rel="manifest" href="/site.webmanifest" />
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Licorice&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- AOS Animation -->
    <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />
    
    <!-- Swiper -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="styles.css">
    <link rel="canonical" href="https://patac.org/artesanos.html">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "CollectionPage",
      "name": "Artesanas | PATAC México",
      "description": "Conoce a los artesanos indígenas que preservan técnicas textiles ancestrales en México",
      "url": "https://patac.org/artesanos.html",
      "publisher": {
        "@type": "Organization",
        "name": "PATAC México",
        "logo": "https://patac.org/favicon.svg"
      }
    }
    </script>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav" id="navbar">
        <div class="nav-content">
            <a href="index.html" class="nav-logo" aria-label="PATAC México - Inicio">PATAC</a>
            <ul class="nav-links">
                <li><a href="index.html">Inicio</a></li>
                <li><a href="proyectos.html">Proyectos</a></li>
                <li><a href="artesanos.html" class="active">Artesanos</a></li>
                <li><a href="voluntarios.html">Voluntarios</a></li>
                <li><a href="transparencia.html">Transparencia</a></li>
                <li><a href="nosotros.html">Nosotros</a></li>
            </ul>
            <button class="nav-toggle" id="nav-toggle" aria-label="Abrir menú">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Mobile Sidebar -->
    <aside class="nav-sidebar" id="nav-sidebar">
        <div class="nav-sidebar-header">
            <span class="nav-sidebar-logo">PATAC</span>
            <button class="nav-sidebar-close" id="nav-close" aria-label="Cerrar menú">&times;</button>
        </div>
        <ul class="nav-sidebar-links">
            <li><a href="index.html">Inicio</a></li>
            <li><a href="proyectos.html">Proyectos</a></li>
            <li><a href="artesanos.html" class="active">Artesanos</a></li>
            <li><a href="voluntarios.html">Voluntarios</a></li>
            <li><a href="transparencia.html">Transparencia</a></li>
            <li><a href="nosotros.html">Nosotros</a></li>
        </ul>
    </aside>
    <div class="nav-overlay" id="nav-overlay"></div>

    <!-- Quick Navigation -->
    <nav class="quick-nav">
        <ul class="quick-nav-list">
            <li class="quick-nav-item"><a href="#artesanos" class="quick-nav-link active" data-section="artesanos"><span class="quick-nav-tooltip">Artesanos</span></a></li>
            <li class="quick-nav-item"><a href="#impacto" class="quick-nav-link" data-section="impacto"><span class="quick-nav-tooltip">Impacto</span></a></li>
            <li class="quick-nav-item"><a href="#historias" class="quick-nav-link" data-section="historias"><span class="quick-nav-tooltip">Historias</span></a></li>
        </ul>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="artesanos">
        <div class="hero-background">
            <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80" 
                 alt="Artesana trabajando en telar de cintura" 
                 loading="lazy">
        </div>
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <div class="hero-badge" data-aos="fade-down" data-aos-delay="200">
                <i class="fas fa-hands"></i> ARTE Y CULTURA VIVA
            </div>
            <h1 class="logo logo-muthiara" data-aos="fade-up" data-aos-delay="400">Las Manos Detrás del Arte</h1>
            <p class="tagline" data-aos="fade-up" data-aos-delay="600">Conoce a quienes estás apoyando</p>
            <p class="description" data-aos="fade-up" data-aos-delay="800">
                Cada artesana de PATAC México es portadora de sabiduría ancestral. Sus manos tejen no solo textiles, 
                sino historias de resistencia cultural, identidad y esperanza. Conócelas y sé parte de su transformación.
            </p>
            <div class="hero-buttons" data-aos="fade-up" data-aos-delay="1000">
                <a href="#artesanos-grid" class="btn btn-primary btn-lg">
                    <i class="fas fa-users mr-3"></i>Conoce a las Artesanas
                </a>
                <a href="#impacto" class="btn btn-secondary btn-lg">
                    <i class="fas fa-chart-line mr-3"></i>Ver Impacto
                </a>
            </div>
        </div>
        <div class="hero-scroll-indicator" onclick="scrollToSection('#artesanos-grid')">
            <span>Descubre sus historias</span>
            <i class="fas fa-chevron-down scroll-arrow"></i>
        </div>
    </section>

    <!-- Filtros Section -->
    <section class="section" id="artesanos-grid">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Nuestras Artesanas</h2>
                <p class="section-subtitle">
                    Cada artesana representa una línea de transmisión cultural ininterrumpida. 
                    Conócelas por comunidad, técnica o región.
                </p>
            </div>

            <!-- Filtros Interactivos -->
            <div class="filter-bar" id="filterBar" role="search" aria-label="Filtros de artesanos">
                <div class="filter-group">
                    <label for="searchInput" class="form-label">Buscar artesana</label>
                    <input type="text" class="form-input" id="searchInput" 
                           placeholder="Buscar por nombre, comunidad o técnica..." 
                           aria-describedby="searchHelp">
                    <small id="searchHelp" class="form-help">Busca artesanas en tiempo real</small>
                </div>
                <div class="filter-group">
                    <label for="communityFilter" class="form-label">Comunidad</label>
                    <select class="form-select" id="communityFilter">
                        <option value="">Todas las comunidades</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="stateFilter" class="form-label">Estado</label>
                    <select class="form-select" id="stateFilter">
                        <option value="">Todos los estados</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="techniqueFilter" class="form-label">Técnica</label>
                    <select class="form-select" id="techniqueFilter">
                        <option value="">Todas las técnicas</option>
                    </select>
                </div>
            </div>

            <!-- Filtros Activos -->
            <div class="filter-tags" id="activeFilters" role="group" aria-label="Filtros activos"></div>

            <!-- Grid de Artesanos -->
            <div class="artesanos-grid" id="artesanos-container">
                <div class="loading-state">
                    <div class="spinner-container">
                        <div class="spinner"></div>
                        <p>Cargando artesanas...</p>
                    </div>
                </div>
            </div>

            <!-- CTA Section -->
            <aside class="proyectos-cta">
                <h3 class="section-title" style="font-size: var(--text-3xl); margin-bottom: var(--space-4);">
                    ¿Conoces a una artesana que necesita apoyo?
                </h3>
                <p class="cta-helper-text">
                    Si conoces artesanas indígenas que necesitan visibilidad y apoyo comercial, 
                    queremos escuchar su historia y construir juntas un futuro sostenible.
                </p>
                <div class="btn-group" style="margin-top: var(--space-6);">
                    <a href="voluntarios.html#proponer-artesana" class="btn btn-primary">
                        <i class="fas fa-hands-helping"></i> Proponer Artesana
                    </a>
                    <a href="contacto.html" class="btn btn-outline">
                        <i class="fas fa-envelope"></i> Contáctanos
                    </a>
                </div>
            </aside>
        </div>
    </section>

    <!-- Impacto Individual Section -->
    <section class="section" id="impacto" style="background: var(--light);">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Impacto Transformador</h2>
                <p class="section-subtitle">
                    Cada artesana que forma parte de PATAC México ha experimentado un cambio significativo. 
                    Estas son historias reales de transformación.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center" data-aos="fade-up">
                <!-- Impacto Económico -->
                <div>
                    <h3 class="text-3xl font-bold mb-6" style="color: var(--primary);">
                        <i class="fas fa-chart-line mr-3"></i>Crecimiento Económico
                    </h3>
                    <div class="space-y-6">
                        <div class="card p-6">
                            <div class="flex items-center justify-between mb-4">
                                <span class="font-semibold">Ingreso Promedio</span>
                                <span class="text-2xl font-bold" style="color: var(--gold);">+250%</span>
                            </div>
                            <div class="progress">
                                <div class="progress-bar" style="width: 85%"></div>
                            </div>
                            <p class="text-sm text-gray-600 mt-2">
                                Las artesanas han triplicado sus ingresos desde que se unieron a PATAC
                            </p>
                        </div>
                        
                        <div class="card p-6">
                            <div class="flex items-center justify-between mb-4">
                                <span class="font-semibold">Estabilidad Financiera</span>
                                <span class="text-2xl font-bold" style="color: var(--success);">92%</span>
                            </div>
                            <div class="progress">
                                <div class="progress-bar" style="width: 92%; background: var(--success);"></div>
                            </div>
                            <p class="text-sm text-gray-600 mt-2">
                                9 de cada 10 artesanas reportan mayor estabilidad económica
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Impacto Social -->
                <div>
                    <h3 class="text-3xl font-bold mb-6" style="color: var(--primary);">
                        <i class="fas fa-users mr-3"></i>Empoderamiento Comunitario
                    </h3>
                    <div class="space-y-6">
                        <div class="card p-6">
                            <div class="flex items-center justify-between mb-4">
                                <span class="font-semibold">Transmisión Cultural</span>
                                <span class="text-2xl font-bold" style="color: var(--accent);">+180%</span>
                            </div>
                            <div class="progress">
                                <div class="progress-bar" style="width: 90%; background: var(--accent);"></div>
                            </div>
                            <p class="text-sm text-gray-600 mt-2">
                                Más jóvenes aprendiendo técnicas textiles tradicionales
                            </p>
                        </div>
                        
                        <div class="card p-6">
                            <div class="flex items-center justify-between mb-4">
                                <span class="font-semibold">Liderazgo Femenino</span>
                                <span class="text-2xl font-bold" style="color: var(--info);">78%</span>
                            </div>
                            <div class="progress">
                                <div class="progress-bar" style="width: 78%; background: var(--info);"></div>
                            </div>
                            <p class="text-sm text-gray-600 mt-2">
                                Las artesanas lideran proyectos comunitarios y decisiones
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Testimonios de Impacto -->
            <div class="mt-16" data-aos="fade-up">
                <h3 class="text-2xl font-bold text-center mb-12" style="color: var(--primary);">
                    Voces que Transforman
                </h3>
                <div class="swiper testimonios-carousel">
                    <div class="swiper-wrapper" id="testimonios-impacto">
                        <!-- Se llenará dinámicamente -->
                    </div>
                    <div class="swiper-pagination"></div>
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Historias Section -->
    <section class="section" id="historias">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Historias que Tejen Esperanza</h2>
                <p class="section-subtitle">
                    Cada hilo cuenta una historia, cada historia cambia una vida. 
                    Descubre las narrativas detrás de las manos que preservan nuestra cultura.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <!-- Historia Destacada -->
                <article class="card" data-aos="fade-right">
                    <div class="card-image">
                        <img src="https://images.unsplash.com/photo-1600585152220-90363fe7e115?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" 
                             alt="Artesana María trabajando en su telar" 
                             loading="lazy">
                        <span class="card-badge">Historia de Éxito</span>
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">María: De la Invisibilidad al Liderazgo</h3>
                        <div class="card-category">Sierra Mixe, Oaxaca</div>
                        <p class="card-description">
                            María aprendió el telar de cintura a los 8 años de su abuela. Durante décadas, sus hermosos textiles se vendían a intermediarios por menos del 10% de su valor real. Hoy, gracias a PATAC, María no solo recibe un precio justo, sino que capacita a 15 jóvenes de su comunidad en esta técnica ancestral.
                        </p>
                        <div class="flex items-center justify-between mt-6">
                            <div class="flex items-center gap-4">
                                <div class="text-center">
                                    <div class="text-2xl font-bold" style="color: var(--gold);">300%</div>
                                    <div class="text-xs text-gray-500">Aumento Ingresos</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold" style="color: var(--accent);">15</div>
                                    <div class="text-xs text-gray-500">Aprendices</div>
                                </div>
                            </div>
                            <button class="btn btn-primary btn-sm" onclick="showFullStory('maria')">
                                Leer Historia Completa
                            </button>
                        </div>
                    </div>
                </article>

                <!-- Video Testimonio -->
                <article class="card" data-aos="fade-left">
                    <div class="card-image" style="height: 300px;">
                        <div style="position: relative; width: 100%; height: 100%; background: linear-gradient(135deg, var(--primary), var(--accent)); display: flex; align-items: center; justify-content: center; color: white; cursor: pointer;" onclick="playVideo('testimonio-rosa')">
                            <i class="fas fa-play-circle" style="font-size: 4rem; margin-bottom: 1rem;"></i>
                            <div style="text-align: center;">
                                <h4 style="font-size: 1.5rem; margin-bottom: 0.5rem;">Rosa: Una Vida Dedicada al Arte</h4>
                                <p style="opacity: 0.9;">Ver testimonio completo (3:45 min)</p>
                            </div>
                        </div>
                        <span class="card-badge">Video Testimonio</span>
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">El Legado de Rosa</h3>
                        <div class="card-category">Santa Clara del Cobre, Michoacán</div>
                        <p class="card-description">
                            Rosa ha dedicado 45 años de su vida a preservar la técnica del rebozo de telar de cintura. En este testimonio, comparte cómo PATAC le permitió enviar a sus nietos a la universidad y mantener viva una tradición que amenazaba desaparecer.
                        </p>
                        <div class="mt-6">
                            <button class="btn btn-primary btn-sm">
                                <i class="fas fa-play mr-2"></i>Ver Video
                            </button>
                        </div>
                    </div>
                </article>
            </div>

            <!-- Galería de Momentos -->
            <div class="mt-16" data-aos="fade-up">
                <h3 class="text-2xl font-bold text-center mb-8" style="color: var(--primary);">
                    Momentos que Inspiran
                </h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="card-image" style="height: 200px;">
                        <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Artesana trabajando" loading="lazy">
                    </div>
                    <div class="card-image" style="height: 200px;">
                        <img src="https://images.unsplash.com/photo-1600585152220-90363fe7e115?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Detalle de tejido" loading="lazy">
                    </div>
                    <div class="card-image" style="height: 200px;">
                        <img src="https://images.unsplash.com/photo-1600585153490-76fb20a32601?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Artesana con su obra" loading="lazy">
                    </div>
                    <div class="card-image" style="height: 200px;">
                        <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Proceso artesanal" loading="lazy">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Final Section -->
    <section class="section" style="background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%); color: white;">
        <div class="container text-center">
            <h2 class="section-title" style="color: white; margin-bottom: var(--space-6);">
                Conecta con su Arte, Transforma su Vida
            </h2>
            <p class="section-subtitle" style="color: rgba(255,255,255,0.9); margin-bottom: var(--space-8);">
                Cada compra, cada compartido, cada palabra de apoyo hace la diferencia. 
                Sé parte del cambio que está redefiniendo el futuro del arte textil indígena en México.
            </p>
            <div class="flex flex-wrap justify-center gap-6">
                <a href="catalogo.html" class="btn btn-primary btn-lg">
                    <i class="fas fa-shopping-bag mr-3"></i>Comprar Productos
                </a>
                <a href="voluntarios.html" class="btn btn-secondary btn-lg">
                    <i class="fas fa-hands-helping mr-3"></i>Ser Voluntario
                </a>
                <a href="#contacto" class="btn btn-outline btn-lg" style="border-color: white; color: white;">
                    <i class="fas fa-heart mr-3"></i>Apoyar con Donación
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>PATAC México</h4>
                <p>Cooperativa especializada en la preservación del patrimonio biocultural textil de pueblos originarios mediante incubación empresarial, educación integral y comercio justo.</p>
                <p><strong>Eslogan:</strong> "El Tejido Cultural de México"</p>
            </div>
            <div class="footer-section">
                <h4>Enlaces Rápidos</h4>
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="proyectos.html">Proyectos</a></li>
                    <li><a href="artesanos.html">Artesanos</a></li>
                    <li><a href="voluntarios.html">Voluntarios</a></li>
                    <li><a href="transparencia.html">Transparencia</a></li>
                    <li><a href="nosotros.html">Nosotros</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Contacto</h4>
                <p><i class="fas fa-phone mr-2"></i> +52 55 2521 3142</p>
                <p><i class="fas fa-envelope mr-2"></i> contacto@patac.org</p>
                <p><i class="fas fa-building mr-2"></i> SC de RL de CV</p>
            </div>
             <div class="footer-section">
                <h4>Síguenos</h4>
                 <div class="flex gap-4 mb-4">
                    <a href="https://facebook.com/PATACMEX" class="btn btn-icon btn-secondary" target="_blank" rel="noopener noreferrer" aria-label="Visita PATAC México en Facebook">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://twitter.com/MexicoPatac" class="btn btn-icon btn-secondary" target="_blank" rel="noopener noreferrer" aria-label="Visita PATAC México en Twitter">
                        <i class="fab fa-twitter"></i>
                    </a>
                     <a href="https://instagram.com/patacmx" class="btn btn-icon btn-secondary" target="_blank" rel="noopener noreferrer" aria-label="Visita PATAC México en Instagram">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="https://linkedin.com/company/PATACMX" class="btn btn-icon btn-secondary" target="_blank" rel="noopener noreferrer" aria-label="Visita PATAC México en LinkedIn">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a href="https://wa.me/525525213142" class="btn btn-icon btn-secondary" target="_blank" rel="noopener noreferrer" aria-label="Contacta a PATAC México por WhatsApp">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                </div>
                <a href="mailto:contacto@patac.org" class="btn btn-outline-secondary btn-sm">
                    <i class="fas fa-envelope mr-2"></i> contacto@patac.org
                </a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 PATAC México. Todos los derechos reservados. | Fundada en 2020 como SAS de CV, evolucionó a SC de RL de CV en julio de 2023.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        // Inicialización de AOS
        AOS.init({
            duration: 800,
            once: true,
            offset: 50
        });

        // Estado global
        let artesanosData = [];
        let filteredArtesanos = [];
        let testimoniosData = [];

        // Funciones de navegación
        function toggleMobileMenu() {
            document.getElementById('nav-sidebar').classList.add('active');
            document.getElementById('nav-overlay').classList.add('active');
        }

        function closeMobileMenu() {
            document.getElementById('nav-sidebar').classList.remove('active');
            document.getElementById('nav-overlay').classList.remove('active');
        }

        // Navegación rápida
        const quickNavLinks = document.querySelectorAll('.quick-nav-link');
        const sections = document.querySelectorAll('.section');

        function updateQuickNav() {
            const scrollPosition = window.scrollY + window.innerHeight / 2;
            sections.forEach(section => {
                if (scrollPosition >= section.offsetTop && scrollPosition < section.offsetTop + section.offsetHeight) {
                    quickNavLinks.forEach(link => {
                        link.classList.remove('active');
                        if (section.id === link.dataset.section) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        }

        function scrollToSection(selector) {
            const element = document.querySelector(selector);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Cargar artesanos
        async function loadArtesanos() {
            try {
                const response = await fetch('/api/artesanos');
                const data = await response.json();
                artesanosData = data.artesanos || [];
                filteredArtesanos = [...artesanosData];
                
                // Extraer opciones únicas para filtros
                const comunidades = [...new Set(artesanosData.map(a => a.comunidad).filter(Boolean))];
                const estados = [...new Set(artesanosData.map(a => a.estado).filter(Boolean))];
                const tecnicas = [...new Set(artesanosData.map(a => a.tecnica).filter(Boolean))];
                
                populateFilterOptions('communityFilter', comunidades);
                populateFilterOptions('stateFilter', estados);
                populateFilterOptions('techniqueFilter', tecnicas);
                
                renderArtesanos(artesanosData);
                
            } catch (error) {
                console.error('Error cargando artesanos:', error);
                document.getElementById('artesanos-container').innerHTML = `
                    <div class="error-message">
                        <i class="fas fa-exclamation-circle"></i>
                        <h3>Error de conexión</h3>
                        <p>No se pudieron cargar los datos de las artesanas. Por favor, verifica tu conexión.</p>
                        <button class="btn btn-primary" onclick="loadArtesanos()">
                            <i class="fas fa-redo"></i> Reintentar
                        </button>
                    </div>
                `;
            }
        }

        function populateFilterOptions(selectId, options) {
            const select = document.getElementById(selectId);
            if (!select) return;
            
            // Mantener la primera opción
            const firstOption = select.options[0];
            select.innerHTML = '';
            select.appendChild(firstOption);
            
            options.sort().forEach(option => {
                const optionEl = document.createElement('option');
                optionEl.value = option.toLowerCase();
                optionEl.textContent = option;
                select.appendChild(optionEl);
            });
        }

        function renderArtesanos(artesanos) {
            const container = document.getElementById('artesanos-container');
            
            if (artesanos.length === 0) {
                container.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 3rem;">
                        <i class="fas fa-search" style="font-size: 3rem; color: var(--gray-400); margin-bottom: 1rem;"></i>
                        <h3 style="color: var(--gray-600);">No se encontraron artesanas</h3>
                        <p style="color: var(--gray-500);">Intenta ajustar los filtros de búsqueda</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = artesanos.map(artesana => `
                <article class="card card-artisan" data-aos="fade-up" data-id="${artesana.idArtesano}">
                    <div class="card-image">
                        <img src="${artesana.urlFoto || 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80'}" 
                             alt="Foto de ${artesana.nombreCompleto}, artesana de ${artesana.comunidad}" 
                             loading="lazy">
                        <span class="card-badge">${artesana.comunidad}</span>
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">${artesana.nombreCompleto}</h3>
                        <div class="card-category">${artesana.edad || 'Edad no especificada'} años | ${artesana.estado || 'México'}</div>
                        
                        <div class="artisan-meta">
                            <div class="artisan-meta-item">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>${artesana.comunidad}</span>
                            </div>
                            <div class="artisan-meta-item">
                                <i class="fas fa-language"></i>
                                <span>${artesana.lenguaOriginaria || 'Español'}</span>
                            </div>
                            <div class="artisan-meta-item">
                                <i class="fas fa-tools"></i>
                                <span>${artesana.tecnica}</span>
                            </div>
                        </div>

                        <p class="artisan-story">${artesana.historia || 'Historia de vida y conexión con el arte textil.'}</p>
                        
                        <div class="flex items-center justify-between mt-6">
                            ${artesana.impactoEconomico ? `
                                <div class="text-center">
                                    <div class="text-2xl font-bold" style="color: var(--gold);">${artesana.impactoEconomico}</div>
                                    <div class="text-xs text-gray-500">Impacto Económico</div>
                                </div>
                            ` : ''}
                            
                            <div class="flex gap-2">
                                <a href="catalogo.html?artesano=${encodeURIComponent(artesana.nombreCompleto)}" 
                                   class="btn btn-primary btn-sm">
                                    <i class="fas fa-shopping-bag mr-2"></i>Ver Productos
                                </a>
                                <button class="btn btn-secondary btn-sm" onclick="showArtesanoModal('${artesana.idArtesano}')">
                                    <i class="fas fa-user mr-2"></i>Conocer Más
                                </button>
                            </div>
                        </div>

                        ${artesana.urlVideoCorto ? `
                            <div class="mt-4">
                                <button class="btn btn-ghost btn-sm" onclick="playVideo('${artesana.urlVideoCorto}')">
                                    <i class="fas fa-play mr-2"></i>Ver Video (30s)
                                </button>
                            </div>
                        ` : ''}
                    </div>
                </article>
            `).join('');
        }

        function showArtesanoModal(id) {
            // Implementar modal con información detallada del artesano
            console.log('Mostrar modal para artesana:', id);
        }

        function playVideo(url) {
            // Implementar reproductor de video
            console.log('Reproducir video:', url);
        }

        function showFullStory(name) {
            // Implementar modal con historia completa
            console.log('Mostrar historia completa de:', name);
        }

        // Filtros
        function handleSearch(e) {
            const searchTerm = e.target.value.toLowerCase();
            filteredArtesanos = artesanosData.filter(artesana => 
                artesana.nombreCompleto?.toLowerCase().includes(searchTerm) ||
                artesana.comunidad?.toLowerCase().includes(searchTerm) ||
                artesana.tecnica?.toLowerCase().includes(searchTerm) ||
                artesana.historia?.toLowerCase().includes(searchTerm)
            );
            renderArtesanos(filteredArtesanos);
            updateActiveFilters();
        }

        function handleFilterChange(e) {
            const filterType = e.target.id.replace('Filter', '');
            const value = e.target.value.toLowerCase();
            
            if (filterType === 'community') {
                filteredArtesanos = value ? artesanosData.filter(a => a.comunidad?.toLowerCase().includes(value)) : artesanosData;
            } else if (filterType === 'state') {
                filteredArtesanos = value ? artesanosData.filter(a => a.estado?.toLowerCase().includes(value)) : artesanosData;
            } else if (filterType === 'technique') {
                filteredArtesanos = value ? artesanosData.filter(a => a.tecnica?.toLowerCase().includes(value)) : artesanosData;
            }
            
            // Aplicar también el filtro de búsqueda si existe
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            if (searchTerm) {
                filteredArtesanos = filteredArtesanos.filter(artesana => 
                    artesana.nombreCompleto?.toLowerCase().includes(searchTerm) ||
                    artesana.comunidad?.toLowerCase().includes(searchTerm) ||
                    artesana.tecnica?.toLowerCase().includes(searchTerm) ||
                    artesana.historia?.toLowerCase().includes(searchTerm)
                );
            }
            
            renderArtesanos(filteredArtesanos);
            updateActiveFilters();
        }

        function updateActiveFilters() {
            const activeTags = [];
            const searchTerm = document.getElementById('searchInput').value;
            const community = document.getElementById('communityFilter').value;
            const state = document.getElementById('stateFilter').value;
            const technique = document.getElementById('techniqueFilter').value;
            
            if (searchTerm) activeTags.push({ type: 'search', label: `Búsqueda: "${searchTerm}"` });
            if (community) activeTags.push({ type: 'community', label: `Comunidad: ${community}` });
            if (state) activeTags.push({ type: 'state', label: `Estado: ${state}` });
            if (technique) activeTags.push({ type: 'technique', label: `Técnica: ${technique}` });
            
            const container = document.getElementById('activeFilters');
            if (activeTags.length === 0) {
                container.innerHTML = '';
                return;
            }
            
            container.innerHTML = activeTags.map(tag => `
                <span class="filter-tag">
                    ${tag.label}
                    <button onclick="removeFilter('${tag.type}')" aria-label="Eliminar filtro">×</button>
                </span>
            `).join('');
        }

        function removeFilter(filterType) {
            if (filterType === 'search') {
                document.getElementById('searchInput').value = '';
            } else {
                document.getElementById(filterType + 'Filter').value = '';
            }
            
            // Resetear filtros y aplicar solo los activos
            filteredArtesanos = [...artesanosData];
            
            // Aplicar filtros restantes
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const community = document.getElementById('communityFilter').value.toLowerCase();
            const state = document.getElementById('stateFilter').value.toLowerCase();
            const technique = document.getElementById('techniqueFilter').value.toLowerCase();
            
            if (searchTerm) {
                filteredArtesanos = filteredArtesanos.filter(artesana => 
                    artesana.nombreCompleto?.toLowerCase().includes(searchTerm) ||
                    artesana.comunidad?.toLowerCase().includes(searchTerm) ||
                    artesana.tecnica?.toLowerCase().includes(searchTerm) ||
                    artesana.historia?.toLowerCase().includes(searchTerm)
                );
            }
            if (community) {
                filteredArtesanos = filteredArtesanos.filter(a => a.comunidad?.toLowerCase().includes(community));
            }
            if (state) {
                filteredArtesanos = filteredArtesanos.filter(a => a.estado?.toLowerCase().includes(state));
            }
            if (technique) {
                filteredArtesanos = filteredArtesanos.filter(a => a.tecnica?.toLowerCase().includes(technique));
            }
            
            renderArtesanos(filteredArtesanos);
            updateActiveFilters();
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', async () => {
            // Navegación
            document.getElementById('nav-toggle')?.addEventListener('click', toggleMobileMenu);
            document.getElementById('nav-close')?.addEventListener('click', closeMobileMenu);
            document.getElementById('nav-overlay')?.addEventListener('click', closeMobileMenu);
            
            // Filtros
            document.getElementById('searchInput')?.addEventListener('input', handleSearch);
            document.getElementById('communityFilter')?.addEventListener('change', handleFilterChange);
            document.getElementById('stateFilter')?.addEventListener('change', handleFilterChange);
            document.getElementById('techniqueFilter')?.addEventListener('change', handleFilterChange);
            
            // Scroll
            window.addEventListener('scroll', updateQuickNav);
            
            // Cargar datos
            await loadArtesanos();
            loadTestimonios();
            
            // Inicializar Swiper para testimonios
            new Swiper('.testimonios-carousel', {
                slidesPerView: 1,
                spaceBetween: 30,
                loop: true,
                autoplay: {
                    delay: 5000,
                    disableOnInteraction: false,
                },
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
                breakpoints: {
                    640: {
                        slidesPerView: 2,
                        spaceBetween: 20,
                    },
                    1024: {
                        slidesPerView: 3,
                        spaceBetween: 30,
                    },
                },
            });
        });

        // Función para cargar testimonios de impacto
        async function loadTestimonios() {
            try {
                const response = await fetch('/api/articulosBlog');
                const data = await response.json();
                testimoniosData = data.articulosBlogs || [];
                renderTestimonios(testimoniosData);
            } catch (error) {
                console.error('Error cargando testimonios:', error);
            }
        }

        function renderTestimonios(testimonios) {
            const container = document.getElementById('testimonios-impacto');
            if (!container) return;
            
            if (testimonios.length === 0) {
                container.innerHTML = '<div class="swiper-slide"><div class="testimonial-card"><p>No hay testimonios disponibles</p></div></div>';
                return;
            }
            
            container.innerHTML = testimonios.slice(0, 6).map(testimonio => {
                const fecha = testimonio.fecha ? new Date(parseInt(testimonio.fecha) * 86400000).toLocaleDateString('es-MX') : 'Fecha no disponible';
                
                return `
                    <div class="swiper-slide">
                        <div class="testimonial-card">
                            <div class="testimonial-avatar">
                                <img src="${testimonio.urlImagen || 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80'}" 
                                     alt="${testimonio.titulo}" loading="lazy">
                            </div>
                            <p class="testimonial-quote">"${testimonio.resumen}"</p>
                            <p class="testimonial-author">${testimonio.titulo}</p>
                            <p class="testimonial-role">${fecha}</p>
                        </div>
                    </div>
                `;
            }).join('');
        }
    </script>
</body>
</html>