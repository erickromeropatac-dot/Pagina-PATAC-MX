<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- SEO Meta Tags -->
    <title>PATAC M√©xico | El Tejido Cultural de M√©xico - Preservaci√≥n del Patrimonio Biocultural</title>
    <meta name="description"
        content="PATAC M√©xico: Cooperativa dedicada a la preservaci√≥n del patrimonio biocultural textil de pueblos originarios. Apoyamos artesanos ind√≠genas mediante incubaci√≥n empresarial, educaci√≥n integral y comercio justo.">
    <meta name="keywords"
        content="patrimonio cultural, artesan√≠a mexicana, pueblos originarios, econom√≠a solidaria, textiles artesanales, cultura M√©xico, voluntariado cultural, incubadora social, comercio justo">
    <meta name="author" content="PATAC M√©xico">
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://patac.org/">
    <meta property="og:title" content="PATAC M√©xico | El Tejido Cultural de M√©xico">
    <meta property="og:description"
        content="Preservamos el patrimonio biocultural textil de pueblos originarios mediante incubaci√≥n empresarial y educaci√≥n integral.">
    <meta property="og:image" content="https://patac.org/og-image.jpg">
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://patac.org/">
    <meta property="twitter:title" content="PATAC M√©xico | El Tejido Cultural de M√©xico">
    <meta property="twitter:description"
        content="Preservamos el patrimonio biocultural textil de pueblos originarios mediante incubaci√≥n empresarial y educaci√≥n integral.">
    <meta property="twitter:image" content="https://patac.org/twitter-image.jpg">
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="PATAC M√©xico" />
    <link rel="manifest" href="/site.webmanifest" />
    <!-- CDNs -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;900&family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Licorice&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Libraries -->
    <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <!-- Stylesheet -->
    <link rel="stylesheet" href="styles.css">
    <!-- Canonical URL -->
    <link rel="canonical" href="https://patac.org/">
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "PATAC M√©xico",
      "alternateName": "Productos Artesanales Textiles de Arte y Cultura",
      "url": "https://patac.org",
      "logo": "https://patac.org/favicon.svg",
      "description": "Cooperativa dedicada a la preservaci√≥n del patrimonio biocultural textil de pueblos originarios de M√©xico mediante incubaci√≥n empresarial, educaci√≥n integral y comercio justo",
      "foundingDate": "2020",
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+52-55-2521-3142",
        "contactType": "customer service",
        "availableLanguage": ["es"]
      },
      "sameAs": [
        "https://facebook.com/PATACMEX",
        "https://instagram.com/patacmx",
        "https://twitter.com/MexicoPatac",
        "https://linkedin.com/company/PATACMX"
      ],
      "address": {
        "@type": "PostalAddress",
        "addressCountry": "MX"
      }
    }
    </script>
    <style>
        /* Quick Navigation Styles */
        body {
            position: relative;
        }

        .quick-nav {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 12px;
            background-color: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 50px;
            padding: 15px 10px;
        }

        .quick-nav-list {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
        }

        .quick-nav-item {
            margin: 0;
        }

        .quick-nav-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: var(--primary, #4a90e2);
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
        }

        .quick-nav-link:hover,
        .quick-nav-link.active {
            background-color: var(--gold, #d4af37);
            transform: scale(1.1);
        }

        .quick-nav-tooltip {
            position: absolute;
            right: 50px;
            top: 50%;
            transform: translateY(-50%);
            background-color: var(--dark, #333);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .quick-nav-link:hover .quick-nav-tooltip,
        .quick-nav-link:focus .quick-nav-tooltip {
            opacity: 1;
            visibility: visible;
        }

        .quick-nav-tooltip::after {
            content: '';
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%);
            border: 5px solid transparent;
            border-left-color: var(--dark, #333);
        }

        @media (max-width: 768px) {
            .quick-nav {
                right: 8px;
                padding: 10px 6px;
            }

            .quick-nav-link {
                width: 28px;
                height: 28px;
            }

            .quick-nav-tooltip {
                font-size: 0.7rem;
                right: 40px;
            }
        }

        .hero {
            padding-right: 60px;
        }

        @media (max-width: 768px) {
            .hero {
                padding-right: 40px;
            }
        }

        /* Typing Effect Styles */
        .tagline {
            min-height: 1.5em;
            display: inline-block;
            position: relative;
        }

        .tagline::after {
            content: '|';
            position: absolute;
            right: -8px;
            animation: blink 1s infinite;
            color: var(--gold);
        }

        @keyframes blink {

            0%,
            50% {
                opacity: 1;
            }

            51%,
            100% {
                opacity: 0;
            }
        }

        /* Loading Spinner */
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-top: 4px solid var(--gold);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 2rem auto;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body>
    <!-- Navigation -->
    <nav class="nav" id="main-nav">
        <div class="nav-content">
            <a href="#inicio" class="nav-logo" aria-label="PATAC M√©xico - Inicio">PATAC</a>
            <ul class="nav-links">
                <li><a href="#inicio">Inicio</a></li>
                <li><a href="nosotros.html">Nosotros</a></li>
                <li><a href="proyectos.html">Proyectos</a></li>
                <li><a href="artesanos.html">Artesanos</a></li>
                <li><a href="catalogo.html">Cat√°logo</a></li>
                <li><a href="voluntariado.html">Voluntariado</a></li>
                <li><a href="transparencia.html">Transparencia</a></li>
                <li><a href="#contacto">Contacto</a></li>
            </ul>
            <button class="nav-toggle" id="nav-toggle" aria-label="Abrir men√∫">
                <span></span><span></span><span></span>
            </button>
        </div>
    </nav>
    <!-- Sidebar Navigation -->
    <aside class="nav-sidebar" id="nav-sidebar">
        <div class="nav-sidebar-header">
            <span class="nav-sidebar-logo">PATAC</span>
            <button class="nav-sidebar-close" id="nav-close" aria-label="Cerrar men√∫">&times;</button>
        </div>
        <ul class="nav-sidebar-links">
            <li><a href="#inicio">Inicio</a></li>
            <li><a href="nosotros.html">Nosotros</a></li>
            <li><a href="proyectos.html">Proyectos</a></li>
            <li><a href="artesanos.html">Artesanos</a></li>
            <li><a href="catalogo.html">Cat√°logo</a></li>
            <li><a href="voluntariado.html">Voluntariado</a></li>
            <li><a href="transparencia.html">Transparencia</a></li>
            <li><a href="#actividades">Actividades</a></li>
            <li><a href="#testimonios">Testimonios</a></li>
            <li><a href="#reconocimientos">Aliados</a></li>
            <li><a href="#contacto">Contacto</a></li>
        </ul>
    </aside>
    <div class="nav-overlay" id="nav-overlay"></div>

    <!-- Quick Navigation -->
    <aside class="quick-nav">
        <ul class="quick-nav-list">
            <li class="quick-nav-item"><a href="#inicio" class="quick-nav-link active" data-section="inicio"><span
                        class="quick-nav-tooltip">Inicio</span></a></li>
            <li class="quick-nav-item"><a href="#mision" class="quick-nav-link" data-section="mision"><span
                        class="quick-nav-tooltip">Misi√≥n</span></a></li>
            <li class="quick-nav-item"><a href="#impacto" class="quick-nav-link" data-section="impacto"><span
                        class="quick-nav-tooltip">Impacto</span></a></li>
            <li class="quick-nav-item"><a href="#actividades" class="quick-nav-link" data-section="actividades"><span
                        class="quick-nav-tooltip">Actividades</span></a></li>
            <li class="quick-nav-item"><a href="#artesanos" class="quick-nav-link" data-section="artesanos"><span
                        class="quick-nav-tooltip">Artesanos</span></a></li>
            <li class="quick-nav-item"><a href="#proyectos" class="quick-nav-link" data-section="proyectos"><span
                        class="quick-nav-tooltip">Proyectos</span></a></li>
            <li class="quick-nav-item"><a href="#reconocimientos" class="quick-nav-link"
                    data-section="reconocimientos"><span class="quick-nav-tooltip">Aliados</span></a></li>
        </ul>
    </aside>

    <!-- Hero Section with Video Background -->
<section class="hero" id="inicio">
  <div class="hero-background">
    <video class="hero-video" autoplay muted loop playsinline poster="/assets/hero-fallback.jpg">
      <source src="https://www.pexels.com/download/video/19312831/" type="video/mp4">
      Tu navegador no soporta video HTML5.
    </video>
  </div>
  <div class="hero-overlay"></div>
  <div class="hero-content">
    <div class="hero-badge" data-aos="fade-down" data-aos-delay="200">
      PATRIMONIO BIOCULTURAL TEXTIL IND√çGENA
    </div>
    <h1 class="logo logo-muthiara" data-aos="fade-up" data-aos-delay="400">Patac</h1>
    <p class="tagline" data-aos="fade-up" data-aos-delay="600">El Tejido Cultural de M√©xico</p>
    <p class="description" data-aos="fade-up" data-aos-delay="800">
      Somos una cooperativa especializada en la preservaci√≥n del patrimonio biocultural textil de pueblos
      originarios en riesgo de desaparecer. Operamos como incubadora empresarial social que brinda
      acompa√±amiento integral a artesanos ind√≠genas, combinando educaci√≥n para la vida, comercio justo y
      empoderamiento comunitario.
    </p>
    <div class="hero-buttons" data-aos="fade-up" data-aos-delay="1000">
      <a href="proyectos.html" class="btn btn-primary">
        <i class="fas fa-hands-helping mr-3"></i>Apoya un Proyecto
      </a>
      <a href="artesanos.html" class="btn btn-secondary">
        <i class="fas fa-users mr-3"></i>Conoce a los Artesanos
      </a>
    </div>
  </div>
</section>

    <!-- Misi√≥n, Visi√≥n y Objetivos Section -->
   <section class="mission section mission-biocultural-wrap" id="mision" data-aos="fade-up">
    <div class="container">
        <div class="section-header">
            <h2>Nuestra Misi√≥n, Visi√≥n y Objetivos</h2>
            <p>El compromiso de PATAC M√©xico con el patrimonio cultural ind√≠gena</p>
            <div class="section-badge" style="margin: 1rem auto; display: inline-block;">‚ú¶ Tejido Cultural 2025 ‚ú¶</div>
        </div>
        
        <div class="contenedor-cards">
            <article class="card-biocultural" data-tejido="tenango" data-aos="fade-up" data-aos-delay="100">
                <header class="cabeza-huipil">
                    <svg class="icono-nahual-svg" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="45" fill="none" stroke="var(--grana-nocheztli)" stroke-width="3"/>
                        <circle cx="50" cy="50" r="15" fill="var(--caracol-purpura)"/>
                        <path d="M50 5 L50 95 M5 50 L95 50" stroke="var(--tierra-tepetate)" stroke-width="2"/>
                    </svg>
                    <h3>MISI√ìN</h3>
                    <span class="subtitulo-tejido">Bordado Tenango</span>
                </header>
                <div class="cuerpo-card">
                    <p class="texto-principal">
                        Contribuir a la preservaci√≥n del <strong>patrimonio biocultural</strong> textil, promoviendo su valoraci√≥n como expresi√≥n viva de identidad.
                    </p>
                    <ul class="lista-valores">
                        <li>Soberan√≠a biocultural</li>
                        <li>Equidad tejida a mano</li>
                    </ul>
                </div>
                <footer class="remate-textil">
                    <div class="hilatura-triple">
                        <span class="hilo" style="background: var(--grana-nocheztli)"></span>
                        <span class="hilo" style="background: var(--pericon-dorado)"></span>
                    </div>
                    <small>üìç Hidalgo</small>
                </footer>
            </article>

            <article class="card-biocultural" data-tejido="tlahui" data-aos="fade-up" data-aos-delay="200">
                <header class="cabeza-huipil">
                    <svg class="icono-nahual-svg" viewBox="0 0 100 100">
                        <polygon points="50,10 90,70 10,70" fill="none" stroke="var(--turquesa-cenote)" stroke-width="3"/>
                        <circle cx="50" cy="50" r="8" fill="var(--pericon-dorado)"/>
                    </svg>
                    <h3>VISI√ìN</h3>
                    <span class="subtitulo-tejido">Tejido Mixe</span>
                </header>
                <div class="cuerpo-card">
                    <p class="texto-principal">
                        Ser el referente en la <strong>revitalizaci√≥n del textil</strong> originario, conectando comunidades con mercados justos y empoderando nuevas generaciones.
                    </p>
                    <ul class="lista-valores">
                        <li>Geometr√≠a sagrada</li>
                        <li>Innovaci√≥n con ra√≠ces</li>
                    </ul>
                </div>
                <footer class="remate-textil">
                    <div class="hilatura-triple">
                        <span class="hilo" style="background: var(--turquesa-cenote)"></span>
                        <span class="hilo" style="background: var(--tierra-tepetate)"></span>
                    </div>
                    <small>üìç Oaxaca</small>
                </footer>
            </article>

            <article class="card-biocultural" data-tejido="chiapaneco" data-aos="fade-up" data-aos-delay="300">
                <header class="cabeza-huipil">
                    <svg class="icono-nahual-svg" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="20" fill="none" stroke="var(--magenta-rebozo)" stroke-width="3"/>
                        <path d="M50 10 L55 25 L70 30 L55 35 L50 50 L45 35 L30 30 L45 25 Z" fill="var(--pericon-dorado)"/>
                    </svg>
                    <h3>OBJETIVOS</h3>
                    <span class="subtitulo-tejido">Jaspeado Maya</span>
                </header>
                <div class="cuerpo-card">
                    <p class="texto-principal">
                        Garantizar la <strong>sostenibilidad</strong> mediante difusi√≥n estrat√©gica, comercializaci√≥n y formaci√≥n educativa integral.
                    </p>
                    <ul class="lista-valores">
                        <li>Comunalidad</li>
                        <li>Transparencia</li>
                    </ul>
                </div>
                <footer class="remate-textil">
                    <div class="hilatura-triple">
                        <span class="hilo" style="background: var(--magenta-rebozo)"></span>
                        <span class="hilo" style="background: var(--quetzal-verde)"></span>
                    </div>
                    <small>üìç Chiapas</small>
                </footer>
            </article>
        </div>
        <div class="text-center mt-8">
            <a href="nosotros.html" class="btn btn-outline">Ver Manifiesto Completo</a>
        </div>
    </div>
</section>

    <!-- Stats Section - Impacto Din√°mico -->
    <section class="stats section" id="impacto" data-aos="fade-up">
        <div class="container">
            <div class="section-header" style="color: white; margin-bottom: 3rem;">
                <h2 style="color: var(--gold);">Nuestro Impacto</h2>
                <p>Transformando vidas y preservando culturas en M√©xico</p>
            </div>
            <div class="stats-grid">
                <div class="stat-item" data-aos="zoom-in" data-aos-delay="100">
                    <div class="stat-number" data-target="500">0</div>
                    <div class="stat-label">Artesanos Apoyados</div>
                    <p class="stat-description">M√°s de 500 artesanos han recibido apoyo integral a trav√©s de nuestros
                        programas.</p>
                </div>
                <div class="stat-item" data-aos="zoom-in" data-aos-delay="200">
                    <div class="stat-number" data-target="50">0</div>
                    <div class="stat-label">Comunidades Beneficiadas</div>
                    <p class="stat-description">Impactamos directamente en m√°s de 50 comunidades ind√≠genas en todo
                        M√©xico.</p>
                </div>
                <div class="stat-item" data-aos="zoom-in" data-aos-delay="300">
                    <div class="stat-number" data-target="15">0</div>
                    <div class="stat-label">Estados de la Rep√∫blica</div>
                    <p class="stat-description">Nuestra presencia abarca 15 estados, preservando diversidad cultural.
                    </p>
                </div>
                <div class="stat-item" data-aos="zoom-in" data-aos-delay="400">
                    <div class="stat-number" data-target="100">0</div>
                    <div class="stat-label">Mil Personas Impactadas</div>
                    <p class="stat-description">M√°s de 100,000 personas beneficiadas indirectamente por nuestras
                        iniciativas.</p>
                </div>
            </div>
            <div class="text-center mt-8">
                <a href="transparencia.html" class="btn btn-outline-light">Ver reporte completo</a>
            </div>
        </div>
    </section>

    <!-- Actividades Principales Section -->
    <section class="features section" id="actividades" data-aos="fade-up">
    <div class="container">
        <div class="section-header">
            <h2>Nuestras Actividades Principales</h2>
            <p>Iniciativas integradas que fortalecen a artesanos y preservan tradiciones ancestrales</p>
        </div>
        
        <div class="activities-list-container">
            <div class="activities-nav">
                <i class="fas fa-seedling" title="Crecimiento"></i>
                <i class="fas fa-hands-helping" title="Comunidad"></i>
                <i class="fas fa-globe-americas" title="Impacto"></i>
            </div>

            <div class="list">
                <div class="activity-item" data-index="1">
                    <div class="activity-content">
                        <h3>Turismo Rural y Experiencias</h3>
                        <p>Promoci√≥n de rutas culturales que conectan visitantes con el arte textil, generando ingresos directos.</p>
                    </div>
                </div>
                <div class="activity-item" data-index="2">
                    <div class="activity-content">
                        <h3>Talleres y Capacitaci√≥n T√©cnica</h3>
                        <p>Mejora de procesos de producci√≥n, conservaci√≥n textil y control de calidad para artesanos.</p>
                    </div>
                </div>
                <div class="activity-item" data-index="3">
                    <div class="activity-content">
                        <h3>DIY - Transmisi√≥n de Saberes</h3>
                        <p>Fomentamos la ense√±anza intergeneracional de t√©cnicas ancestrales (telar de cintura, tintes).</p>
                    </div>
                </div>
                <div class="activity-item" data-index="4">
                    <div class="activity-content">
                        <h3>Comercio Justo y Exportaci√≥n</h3>
                        <p>Canales de venta √©ticos que garantizan el pago justo y abren mercados internacionales.</p>
                    </div>
                </div>
                <div class="activity-item" data-index="5">
                    <div class="activity-content">
                        <h3>Educaci√≥n Integral para la Vida</h3>
                        <p>Modelo educativo que incluye alfabetizaci√≥n, finanzas, biolog√≠a y derechos ind√≠genas.</p>
                    </div>
                </div>
                <div class="activity-item" data-index="6">
                    <div class="activity-content">
                        <h3>Incubaci√≥n de Empresas Sociales</h3>
                        <p>Acompa√±amiento para formalizar cooperativas y emprendimientos sostenibles.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="text-center mt-8">
            <h5 class="message" style="color: var(--gray-500); font-size: 0.9rem; margin-top: 1rem;">DESLIZA SOBRE LOS √çTEMS PARA VER DETALLES</h5>
            <a href="voluntariado.html" class="btn btn-primary mt-4">√önete a nuestras actividades</a>
        </div>
    </div>
</section>

    <!-- Artesanos Section - MODIFIED: Now displays 3 random artesanos -->
    <section class="artesanos section" id="artesanos" data-aos="fade-up">
        <div class="container">
            <div class="section-header">
                <h2>Conoce a Nuestros Artesanos</h2>
                <p>Las manos maestras detr√°s de nuestras tradiciones textiles</p>
            </div>
            <div class="artesanos-grid" id="artesanos-container">
                <div class="loading-spinner"></div>
            </div>
            <div class="text-center mt-8">
                <a href="artesanos.html" class="btn btn-secondary">Ver todos los artesanos</a>
            </div>
        </div>
    </section>

    <!-- Proyectos Section -->
    <section class="proyectos section" id="proyectos" data-aos="fade-up">
        <div class="container">
            <div class="section-header">
                <h2>Proyectos Destacados</h2>
                <p>Iniciativas que transforman vidas y preservan culturas</p>
            </div>
            <div class="proyectos-grid" id="proyectos-container">
                <div class="loading-spinner"></div>
            </div>
            <div class="text-center mt-8">
                <a href="proyectos.html" class="btn btn-primary">Explorar todos los proyectos</a>
            </div>
        </div>
    </section>

    <!-- Voluntarios Section -->
    <section class="voluntarios-showcase section" id="voluntarios" data-aos="fade-up">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Nuestros Voluntarios</h2>
                <p class="section-subtitle">Personas apasionadas que impulsan nuestro movimiento</p>
            </div>
            <div class="voluntarios-grid" id="voluntarios-container">
                <div class="loading-spinner"></div>
            </div>
            <div class="text-center mt-8">
                <a href="voluntariado.html" class="btn btn-accent">Convi√©rtete en voluntario</a>
            </div>
        </div>
    </section>

    <!-- Testimonios Section with Swiper -->
    <section class="testimonios section" id="testimonios" data-aos="fade-up">
        <div class="container">
            <div class="section-header">
                <h2>Testimonios y Stories</h2>
                <p>Voces reales de nuestra comunidad</p>
            </div>
            <div class="swiper testimonios-carousel">
                <div class="swiper-wrapper" id="testimonios-container">
                    <div class="loading-spinner"></div>
                </div>
                <div class="swiper-pagination"></div>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>
            <div class="text-center mt-8">
                <a href="nosotros.html#historias" class="btn btn-outline-primary">M√°s historias</a>
            </div>
        </div>
    </section>

    <!-- Presencia en M√©xico Section -->
    <section class="section" id="mapa" data-aos="fade-up">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Nuestra Presencia en M√©xico</h2>
                <p class="section-subtitle">Tocando vidas y preservando tradiciones en comunidades textiles a lo largo
                    del pa√≠s</p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div class="text-content">
                    <p class="mb-4">PATAC M√©xico no es solo una organizaci√≥n en la Ciudad de M√©xico; es un puente que
                        conecta y fortalece comunidades artesanas en todo el pa√≠s. Nuestro trabajo se extiende desde las
                        monta√±as de Oaxaca hasta las costas de Chiapas, desde los valles de Puebla hasta los pueblos
                        m√°gicos de Michoac√°n.</p>
                    <p>Trabajamos de la mano con artesanos textiles, custodios de t√©cnicas ancestrales que, gracias a su
                        dedicaci√≥n, mantienen vivas las historias tejidas en cada pieza. Nuestra presencia busca
                        empoderar a estas comunidades, preservar su invaluable patrimonio cultural y abrir nuevos
                        caminos para su arte en mercados justos y sostenibles.</p>
                    <div class="stats-preview mt-8">
                        <div class="flex justify-around text-center">
                            <div class="stat">
                                <div class="stat-number"
                                    style="color: var(--gold); font-size: var(--text-3xl); font-weight: bold;">15+</div>
                                <div class="stat-label" style="color: var(--secondary);">Estados</div>
                            </div>
                            <div class="stat">
                                <div class="stat-number"
                                    style="color: var(--gold); font-size: var(--text-3xl); font-weight: bold;">50+</div>
                                <div class="stat-label" style="color: var(--secondary);">Comunidades</div>
                            </div>
                            <div class="stat">
                                <div class="stat-number"
                                    style="color: var(--gold); font-size: var(--text-3xl); font-weight: bold;">500+
                                </div>
                                <div class="stat-label" style="color: var(--secondary);">Artesanos</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="map-container">
                    <div id="communities-map"
                        style="width: 100%; height: 400px; border-radius: var(--radius-lg); overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
                        <div
                            style="width: 100%; height: 100%; background: linear-gradient(135deg, var(--primary-light), var(--secondary-light)); display: flex; align-items: center; justify-content: center; color: var(--dark); font-size: var(--text-lg); font-weight: 500;">
                            <div class="text-center">
                                <i class="fas fa-map-marked-alt"
                                    style="font-size: 3rem; color: var(--accent); margin-bottom: 1rem;"></i>
                                <p>Mapa Interactivo de<br>Comunidades PATAC</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Noticias/Blog Section -->
    <section class="blog-section section" id="noticias" data-aos="fade-up">
        <div class="container">
            <div class="section-header">
                <h2>√öltimas Noticias</h2>
                <p>Mantente informado sobre nuestros eventos, logros y aspectos culturales</p>
            </div>
            <div class="blog-grid" id="blog-container">
                <div class="loading-spinner"></div>
            </div>
            <div class="text-center mt-8">
                <a href="nosotros.html#blog" class="btn btn-outline-secondary">Ver todas las noticias</a>
            </div>
        </div>
    </section>

    <!-- Reconocimientos Section -->
    <section class="reconocimientos-section section" id="reconocimientos" style="background-color: #f9f9f9;">
    <div class="container">
        <div class="section-header">
            <h2>Reconocimientos e Instituciones Aliadas</h2>
            <p>PATAC M√©xico ha sido respaldada por importantes instituciones nacionales e internacionales</p>
        </div>
        
        <div class="reconocimientos-wrap">
            <div class="card-material" data-aos="zoom-in">
                <div class="card-material-icon"><i class="material-icons md-36">school</i></div>
                <p class="title">IPN</p>
                <p class="text">Instituto Polit√©cnico Nacional: Origen del modelo PATAC v√≠a investigaci√≥n doctoral.</p>
            </div>

            <div class="card-material" data-aos="zoom-in" data-aos-delay="100">
                <div class="card-material-icon"><i class="material-icons md-36">public</i></div>
                <p class="title">McGill & Georgetown</p>
                <p class="text">Apoyo acad√©mico internacional y reconocimiento a iniciativas educativas.</p>
            </div>

            <div class="card-material" data-aos="zoom-in" data-aos-delay="200">
                <div class="card-material-icon"><i class="material-icons md-36">menu_book</i></div>
                <p class="title">Harvard Business</p>
                <p class="text">Publicaci√≥n de casos de estudio sobre nuestro modelo de impacto social.</p>
            </div>

            <div class="card-material" data-aos="zoom-in" data-aos-delay="300">
                <div class="card-material-icon"><i class="material-icons md-36">emoji_objects</i></div>
                <p class="title">Wadhwani Foundation</p>
                <p class="text">Impulso estrat√©gico a nuestras iniciativas de emprendimiento.</p>
            </div>

            <div class="card-material" data-aos="zoom-in" data-aos-delay="400">
                <div class="card-material-icon"><i class="material-icons md-36">nature_people</i></div>
                <p class="title">Natoure</p>
                <p class="text">Reconocimiento como organizaci√≥n innovadora en turismo biocultural.</p>
            </div>
        </div>
    </div>
</section>

    <!-- Contacto Section -->
    <section class="section" id="contacto" data-aos="fade-up">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Contacto</h2>
                <p class="section-subtitle">√önete a nuestro movimiento</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                <div class="contact-info">
                    <h3 class="font-bold text-2xl mb-6" style="color: var(--primary);">¬øTienes alguna pregunta?</h3>
                    <p class="mb-8">Estamos aqu√≠ para ayudarte. Puedes contactarnos a trav√©s de los siguientes medios:
                    </p>
                    <div class="mb-6">
                        <h4 class="font-semibold text-lg mb-3" style="color: var(--accent);">Email</h4>
                        <p class="mb-2"><i class="fas fa-envelope mr-2"></i> info@patacmexico.org</p>
                    </div>
                    <div class="mb-6">
                        <h4 class="font-semibold text-lg mb-3" style="color: var(--accent);">Tel√©fono</h4>
                        <p class="mb-2"><i class="fas fa-phone mr-2"></i> +52 55 2521 3142</p>
                    </div>
                    <div class="mb-6">
                        <h4 class="font-semibold text-lg mb-3" style="color: var(--accent);">Direcci√≥n</h4>
                        <p class="mb-2"><i class="fas fa-map-marker-alt mr-2"></i> Ciudad de M√©xico, M√©xico</p>
                    </div>
                </div>
                <div class="contact-form">
                    <form id="contactForm">
                        <div class="form-group">
                            <label for="name" class="form-label">Nombre Completo</label>
                            <input type="text" id="name" name="name" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label for="email" class="form-label">Correo Electr√≥nico</label>
                            <input type="email" id="email" name="email" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label for="message" class="form-label">Mensaje</label>
                            <textarea id="message" name="message" class="form-textarea" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Enviar Mensaje</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>PATAC M√©xico</h4>
                <p>Cooperativa especializada en la preservaci√≥n del patrimonio biocultural textil de pueblos originarios
                    mediante incubaci√≥n empresarial, educaci√≥n integral y comercio justo.</p>
                <p><strong>Eslogan:</strong> "El Tejido Cultural de M√©xico"</p>
            </div>
            <div class="footer-section">
                <h4>Enlaces R√°pidos</h4>
                <ul>
                    <li><a href="#inicio">Inicio</a></li>
                    <li><a href="nosotros.html">Nosotros</a></li>
                    <li><a href="proyectos.html">Proyectos</a></li>
                    <li><a href="artesanos.html">Artesanos</a></li>
                    <li><a href="catalogo.html">Cat√°logo</a></li>
                    <li><a href="voluntariado.html">Voluntariado</a></li>
                    <li><a href="transparencia.html">Transparencia</a></li>
                    <li><a href="#contacto">Contacto</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Contacto</h4>
                <p><i class="fas fa-phone mr-2"></i> +52 55 2521 3142</p>
                <p><i class="fas fa-envelope mr-2"></i> contacto@patac.org</p>
                <p><i class="fas fa-building mr-2"></i> SC de RL de CV</p>
            </div>
            <div class="footer-section">
                <h4>S√≠guenos</h4>
                <div class="flex gap-4 mb-4 justify-center">
                    <a href="https://facebook.com/PATACMEX" class="btn btn-icon btn-secondary" target="_blank"
                        rel="noopener noreferrer" aria-label="Visita PATAC M√©xico en Facebook">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://twitter.com/MexicoPatac" class="btn btn-icon btn-secondary" target="_blank"
                        rel="noopener noreferrer" aria-label="Visita PATAC M√©xico en Twitter">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="https://instagram.com/patacmx" class="btn btn-icon btn-secondary" target="_blank"
                        rel="noopener noreferrer" aria-label="Visita PATAC M√©xico en Instagram">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="https://linkedin.com/company/PATACMX" class="btn btn-icon btn-secondary" target="_blank"
                        rel="noopener noreferrer" aria-label="Visita PATAC M√©xico en LinkedIn">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a href="https://wa.me/525525213142" class="btn btn-icon btn-secondary" target="_blank"
                        rel="noopener noreferrer" aria-label="Contacta a PATAC M√©xico por WhatsApp">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                </div>
                <a href="mailto:contacto@patac.org" class="btn btn-outline-secondary btn-sm">
                    <i class="fas fa-envelope mr-2"></i> contacto@patac.org
                </a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 PATAC M√©xico. Todos los derechos reservados. | Fundada en 2020 como SAS de CV, evolucion√≥ a
                SC de RL de CV en julio de 2023.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Inicializar AOS
            AOS.init({
                duration: 800,
                once: true,
                offset: 50
            });

            const API_BASE = '/api';

            // ==================== MOBILE NAVIGATION ====================
            const navToggle = document.getElementById('nav-toggle');
            const navSidebar = document.getElementById('nav-sidebar');
            const navClose = document.getElementById('nav-close');
            const navOverlay = document.getElementById('nav-overlay');
            const sidebarLinks = document.querySelectorAll('.nav-sidebar-links a');

            if (navToggle) {
                navToggle.addEventListener('click', () => {
                    navSidebar.classList.add('active');
                    navOverlay.classList.add('active');
                    navToggle.classList.add('active');
                });
            }

            const closeMenu = () => {
                navSidebar.classList.remove('active');
                navOverlay.classList.remove('active');
                navToggle.classList.remove('active');
            };

            if (navClose) navClose.addEventListener('click', closeMenu);
            if (navOverlay) navOverlay.addEventListener('click', closeMenu);
            sidebarLinks.forEach(link => link.addEventListener('click', closeMenu));

            // ==================== QUICK NAVIGATION & SCROLLSPY ====================
            const quickNavLinks = document.querySelectorAll('.quick-nav-link');
            const sections = document.querySelectorAll('.section');

            const onScroll = () => {
                const scrollPosition = window.scrollY + window.innerHeight / 2;
                sections.forEach(section => {
                    if (scrollPosition >= section.offsetTop && scrollPosition < section.offsetTop + section.offsetHeight) {
                        quickNavLinks.forEach(link => {
                            link.classList.remove('active');
                            if (section.id === link.dataset.section) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            };

            window.addEventListener('scroll', onScroll);

            // ==================== TYPING EFFECT LOGIC ====================
            const typingMessages = [
                "Preservando el patrimonio biocultural textil",
                "Empoderando comunidades ind√≠genas",
                "Tejiendo futuros sostenibles",
                "Conectando tradici√≥n y modernidad",
                "Educando para la vida y la cultura",
                "Promoviendo el comercio justo"
            ];

            function typeWriter(element, text, speed = 60) {
                return new Promise(resolve => {
                    element.textContent = '';
                    let i = 0;
                    const typeInterval = setInterval(() => {
                        if (i < text.length) {
                            element.textContent += text.charAt(i);
                            i++;
                        } else {
                            clearInterval(typeInterval);
                            setTimeout(resolve, 2500);
                        }
                    }, speed);
                });
            }

            function eraseText(element, speed = 40) {
                return new Promise(resolve => {
                    const eraseInterval = setInterval(() => {
                        if (element.textContent.length > 0) {
                            element.textContent = element.textContent.slice(0, -1);
                        } else {
                            clearInterval(eraseInterval);
                            resolve();
                        }
                    }, speed);
                });
            }

            async function startTypingEffect() {
                const taglineElement = document.querySelector('.tagline');
                if (!taglineElement) return;

                // Start with original text
                await typeWriter(taglineElement, "El Tejido Cultural de M√©xico", 80);
                await new Promise(resolve => setTimeout(resolve, 3000));

                // Loop through alternative messages
                let messageIndex = 0;
                while (true) {
                    await eraseText(taglineElement);
                    await typeWriter(taglineElement, typingMessages[messageIndex]);
                    messageIndex = (messageIndex + 1) % typingMessages.length;
                }
            }

            // Start typing effect after page load
            setTimeout(() => {
                startTypingEffect();
            }, 1500);

            // ==================== ANIMACI√ìN DE CONTADORES ====================
            const animateCounters = () => {
                const counters = document.querySelectorAll('.stat-number');
                const speed = 200;
                counters.forEach(counter => {
                    const target = parseInt(counter.getAttribute('data-target'));
                    const increment = target / speed;
                    let current = 0;
                    const updateCount = () => {
                        if (current < target) {
                            current += increment;
                            counter.textContent = Math.ceil(current) + '+';
                            setTimeout(updateCount, 10);
                        } else {
                            counter.textContent = target + '+';
                        }
                    };
                    updateCount();
                });
            };

            const statsObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        animateCounters();
                        statsObserver.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.5 });

            const statsSection = document.querySelector('.stats');
            if (statsSection) {
                statsObserver.observe(statsSection);
            }

            // ==================== UTILIDADES ====================
            const shuffleArray = (array) => {
                const newArray = [...array];
                for (let i = newArray.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
                }
                return newArray;
            };

            // ==================== FETCH ARTESANOS (3 RANDOM) ====================
            let allArtesanos = [];
            let currentArtesanos = [];
            let artesanosInterval;

            async function loadArtesanos() {
                try {
                    const response = await fetch(`${API_BASE}/artesanos`);
                    const data = await response.json();
                    allArtesanos = data.artesanos;
                    displayRandomArtesanos();
                    // Update every 45 seconds
                    artesanosInterval = setInterval(displayRandomArtesanos, 45000);
                } catch (error) {
                    console.error('Error cargando artesanos:', error);
                    document.getElementById('artesanos-container').innerHTML = '<p class="error-message">Error al cargar artesanos. <button onclick="loadArtesanos()">Reintentar</button></p>';
                }
            }

            function displayRandomArtesanos() {
                if (!allArtesanos.length) return;

                const shuffled = shuffleArray(allArtesanos);
                const selected = shuffled.slice(0, 3);

                // Avoid immediate repetition
                if (JSON.stringify(selected.map(a => a.id)) === JSON.stringify(currentArtesanos.map(a => a.id))) {
                    return displayRandomArtesanos();
                }

                currentArtesanos = selected;
                renderArtesanos(selected);
            }

            function renderArtesanos(artesanos) {
                const container = document.getElementById('artesanos-container');
                container.innerHTML = artesanos.map(artesano => `
                    <div class="card card-artisan">
                        <div class="card-image">
                            <img src="${artesano.urlFoto}" alt="Foto de ${artesano.nombreCompleto}, artesano de PATAC M√©xico" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h3 class="card-title">${artesano.nombreCompleto}</h3>
                            <p class="card-category">${artesano.edad || 'N/A'} a√±os | ${artesano.estado || 'N/A'}</p>
                            <p><strong>Comunidad:</strong> ${artesano.comunidad}</p>
                            <p><strong>Lengua:</strong> ${artesano.lenguaOriginaria || 'N/A'}</p>
                            <p><strong>T√©cnica:</strong> ${artesano.tecnica}</p>
                            <p class="card-description">${artesano.historia}</p>
                            <div class="card-footer">
                                <span class="badge badge-primary">Impacto: ${artesano.impactoEconomico || 'N/A'}</span>
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            // ==================== FETCH PROYECTOS ====================
            async function loadProyectos() {
                try {
                    const response = await fetch(`${API_BASE}/proyectos`);
                    const data = await response.json();
                    const proyectosDestacados = data.proyectos
                        .sort((a, b) => new Date(b.fechaInicio) - new Date(a.fechaInicio))
                        .slice(0, 3);
                    renderProyectos(proyectosDestacados);
                } catch (error) {
                    console.error('Error cargando proyectos:', error);
                    document.getElementById('proyectos-container').innerHTML = '<p class="error-message">Error al cargar proyectos. <button onclick="loadProyectos()">Reintentar</button></p>';
                }
            }

            function renderProyectos(proyectos) {
    const container = document.getElementById('proyectos-container');
    
    // Agregamos la clase contenedora de variables al padre si no existe
    container.classList.add('proyectos-grid-vibrante'); 

    container.innerHTML = proyectos.map(proyecto => {
        // C√°lculos de l√≥gica existentes
        const meta = parseFloat(proyecto.metaEconomica || 0);
        const recaudado = parseFloat(proyecto.recaudado || 0);
        const progreso = meta > 0 ? (recaudado / meta) * 100 : 0;
        const porcentaje = Math.min(progreso, 100).toFixed(0);
        
        // Formateo de moneda para visualizaci√≥n
        const formatMoney = (amount) => new Intl.NumberFormat('es-MX', { style: 'currency', currency: 'MXN', maximumFractionDigits: 0 }).format(amount);

        // Mapeo seguro de datos (fallback si la API no trae t√©cnica o ubicaci√≥n)
        const tecnica = proyecto.tecnica || "Textil Tradicional"; 
        const ubicacion = proyecto.ubicacion || "M√©xico";
        const artesanosCount = proyecto.artesanos ? proyecto.artesanos.length : 1;

        return `
        <div class="card-proyecto-textil">
            <div class="card-header-visual">
                <div class="visual-overlay"></div>
                <img src="${proyecto.urlImagenPrincipal}" alt="${proyecto.nombre}" loading="lazy">
                
                <div class="status-badge ${proyecto.status === 'completado' ? 'completado' : 'activo'}">
                    ${(proyecto.status || 'Activo').toUpperCase()}
                </div>

                <div class="meta-tags">
                    <span class="tag-tecnica">
                        <i class="fas fa-fingerprint"></i> ${tecnica}
                    </span>
                </div>
            </div>

            <div class="card-content">
                <h3 class="title">${proyecto.nombre}</h3>
                <p class="description">${proyecto.descripcion}</p>

                <div class="meta-info">
                    <div class="meta-item">
                        <i class="fas fa-map-marker-alt text-accent"></i>
                        <span>${ubicacion}</span>
                    </div>
                    <div class="meta-item">
                        <i class="fa-solid fa-user-group text-primary"></i>
                        <span>${artesanosCount} artesanos</span>
                    </div>
                </div>

                <div class="card-footer-project">
                    <div class="progress-info">
                        <span class="progress-raised">${formatMoney(recaudado)}</span>
                        <span class="progress-goal">de ${formatMoney(meta)}</span>
                    </div>
                    <div class="progress-bar-textil">
                        <div class="bar" style="width: ${porcentaje}%;"></div>
                    </div>
                    <a href="ver-proyecto.html?id=${proyecto._id || proyecto.id}" class="btn btn-primary w-full" style="width:100%; text-align:center; display:block;">Ver Proyecto</a>
                </div>
            </div>
            
            <div class="card-remate-textil">
                <div class="hilo-patriotico"></div>
                <div class="hilo-patriotico"></div>
                <div class="hilo-patriotico"></div>
            </div>
        </div>
        `;
    }).join('');
}

            // ==================== FETCH VOLUNTARIOS ====================
            async function loadVoluntarios() {
                try {
                    const response = await fetch(`${API_BASE}/voluntarios`);
                    const data = await response.json();
                    renderVoluntarios(data.voluntarios);
                } catch (error) {
                    console.error('Error cargando voluntarios:', error);
                    document.getElementById('voluntarios-container').innerHTML = '<p class="error-message">Error al cargar voluntarios. <button onclick="loadVoluntarios()">Reintentar</button></p>';
                }
            }

            function renderVoluntarios(voluntarios) {
                const container = document.getElementById('voluntarios-container');
                container.innerHTML = voluntarios.map(voluntario => `
                    <div class="card">
                        <div class="card-image">
                            <img src="${voluntario.urlFoto}" alt="Foto de ${voluntario.nombre}, voluntario de PATAC M√©xico" loading="lazy">
                        </div>
                        <div class="card-content">
                            <h3 class="card-title">${voluntario.nombre}</h3>
                            <p class="card-category">${voluntario.area}</p>
                            <p><strong>Tipo:</strong> ${voluntario.tipoVoluntariado || 'Remoto'}</p>
                            <p class="card-description">"${voluntario.testimonio}"</p>
                            <div class="card-footer">
                                <span class="badge badge-info">${voluntario.horasContribuidas || 0}h</span>
                                <span class="badge badge-success">${voluntario.proyectoActual || 'Activo'}</span>
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            // ==================== FETCH TESTIMONIOS ====================
            async function loadTestimonios() {
                try {
                    const [artesanosRes, voluntariosRes] = await Promise.all([
                        fetch(`${API_BASE}/artesanos`),
                        fetch(`${API_BASE}/voluntarios`)
                    ]);
                    const artesanosData = await artesanosRes.json();
                    const voluntariosData = await voluntariosRes.json();

                    const testimonios = [
                        ...artesanosData.artesanos.map(a => ({
                            nombre: a.nombreCompleto,
                            rol: 'Artesana',
                            testimonio: a.historia,
                            foto: a.urlFoto
                        })),
                        ...voluntariosData.voluntarios.map(v => ({
                            nombre: v.nombre,
                            rol: 'Voluntario',
                            testimonio: v.testimonio,
                            foto: v.urlFoto
                        }))
                    ];

                    renderTestimonios(testimonios);
                } catch (error) {
                    console.error('Error cargando testimonios:', error);
                    document.getElementById('testimonios-container').innerHTML = '<p class="error-message">Error al cargar testimonios. <button onclick="loadTestimonios()">Reintentar</button></p>';
                }
            }

            function renderTestimonios(testimonios) {
                const container = document.getElementById('testimonios-container');
                container.innerHTML = testimonios.map(t => `
                    <div class="swiper-slide">
                        <div class="testimonial-card">
                            <div class="testimonial-avatar">
                                <img src="${t.foto}" alt="Foto de ${t.nombre}, ${t.rol} de PATAC M√©xico" loading="lazy">
                            </div>
                            <p class="testimonial-quote">"${t.testimonio}"</p>
                            <p class="testimonial-author">${t.nombre}</p>
                            <p class="testimonial-role">${t.rol}</p>
                        </div>
                    </div>
                `).join('');

                // Inicializar Swiper despu√©s de renderizar
                new Swiper('.testimonios-carousel', {
                    slidesPerView: 1,
                    spaceBetween: 30,
                    loop: true,
                    pagination: { el: '.swiper-pagination', clickable: true },
                    navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },
                    breakpoints: {
                        768: { slidesPerView: 2 },
                        1024: { slidesPerView: 3 }
                    }
                });
            }

            // ==================== FETCH BLOG ====================
            async function loadBlog() {
                try {
                    const response = await fetch(`${API_BASE}/articulosBlog`);
                    const data = await response.json();
                    const articulosRecientes = data.articulosBlogs
                        .sort((a, b) => new Date(b.fecha) - new Date(a.fecha))
                        .slice(0, 3);
                    renderBlog(articulosRecientes);
                } catch (error) {
                    console.error('Error cargando blog:', error);
                    document.getElementById('blog-container').innerHTML = '<p class="error-message">Error al cargar noticias. <button onclick="loadBlog()">Reintentar</button></p>';
                }
            }

            function renderBlog(articulos) {
                const container = document.getElementById('blog-container');
                container.innerHTML = articulos.map(articulo => {
                    const fecha = articulo.fecha ? new Date(parseInt(articulo.fecha) * 86400000).toLocaleDateString('es-MX') : 'Sin fecha';
                    return `
                        <div class="blog-card">
                            <img src="${articulo.urlImagen}" class="blog-card-image" alt="Imagen del art√≠culo ${articulo.titulo}" loading="lazy">
                            <div class="blog-card-content">
                                <div class="blog-card-meta">
                                    <span>${fecha}</span>
                                    <span>${articulo.categoria}</span>
                                </div>
                                <h3 class="blog-card-title">${articulo.titulo}</h3>
                                <p class="blog-card-excerpt">${articulo.resumen}</p>
                                <a href="${articulo.urlCompleto}" class="blog-card-link">Leer m√°s ‚Üí</a>
                            </div>
                        </div>
                    `;
                }).join('');
            }

            // ==================== MAPA INTERACTIVO ====================
            function initMap() {
                const mapElement = document.getElementById('communities-map');
                if (!mapElement) return;

                const map = L.map('communities-map').setView([23.6345, -102.5528], 5);
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '¬© OpenStreetMap contributors'
                }).addTo(map);

                const comunidades = [
                    { coords: [16.7833, -98.2333], name: 'Xochistlahuaca, Guerrero', description: 'Proyectos activos en tejido de cintura y resistol.', estado: 'Guerrero', comunidad: 'Xochistlahuaca' },
                    { coords: [18.9667, -99.6000], name: 'Tenancingo, Estado de M√©xico', description: 'Proyecto de revitalizaci√≥n de t√©cnicas textiles tradicionales.', estado: 'M√©xico', comunidad: 'Tenancingo' },
                    { coords: [17.0000, -96.0000], name: 'Sierra Mixe, Oaxaca', description: 'Iniciativas de comercio justo y educaci√≥n para la vida.', estado: 'Oaxaca', comunidad: 'Sierra Mixe' },
                    { coords: [19.0411, -98.2062], name: 'Atlixco, Puebla', description: 'Talleres de capacitaci√≥n y promoci√≥n tur√≠stica.', estado: 'Puebla', comunidad: 'Atlixco' },
                    { coords: [19.7014, -101.1844], name: 'Santa Clara del Cobre, Michoac√°n', description: 'Preservaci√≥n de t√©cnicas de alfarer√≠a y textiles.', estado: 'Michoac√°n', comunidad: 'Santa Clara del Cobre' }
                ];

                comunidades.forEach(comunidad => {
                    const marker = L.marker(comunidad.coords).addTo(map);
                    marker.bindPopup(`
                        <b>${comunidad.name}</b><br>
                        ${comunidad.description}<br>
                        <a href="proyectos.html?comunidad=${encodeURIComponent(comunidad.comunidad)}&estado=${encodeURIComponent(comunidad.estado)}" target="_blank" rel="noopener noreferrer">Ver Proyectos ‚Üí</a>
                    `);
                });
            }

            // ==================== MANEJO DEL FORMULARIO DE CONTACTO ====================
            const contactForm = document.getElementById('contactForm');
            if (contactForm) {
                contactForm.addEventListener('submit', async (e) => {
                    e.preventDefault();

                    const submitButton = contactForm.querySelector('button[type="submit"]');
                    const originalButtonText = submitButton.innerHTML;
                    submitButton.innerHTML = 'Enviando... <i class="fas fa-spinner fa-spin"></i>';
                    submitButton.disabled = true;

                    const formData = {
                        clienteNombre: document.getElementById('name').value,
                        clienteEmail: document.getElementById('email').value,
                        mensaje: document.getElementById('message').value,
                    };

                    try {
                        const response = await fetch(`${API_BASE}/consultas`, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(formData),
                        });

                        const result = await response.json();

                        if (!response.ok) {
                            throw new Error(result.error || 'Error desconocido al enviar.');
                        }

                        submitButton.innerHTML = '¬°Enviado con √©xito! <i class="fas fa-check"></i>';
                        submitButton.style.backgroundColor = 'var(--success)';
                        contactForm.reset();

                        setTimeout(() => {
                            submitButton.innerHTML = originalButtonText;
                            submitButton.disabled = false;
                            submitButton.style.backgroundColor = '';
                        }, 4000);

                    } catch (error) {
                        console.error('Error enviando consulta:', error);
                        submitButton.innerHTML = `Error: ${error.message}`;
                        submitButton.style.backgroundColor = 'var(--danger)';
                        submitButton.disabled = false;

                        setTimeout(() => {
                            submitButton.innerHTML = originalButtonText;
                            submitButton.style.backgroundColor = '';
                        }, 5000);
                    }
                });
            }

            // ==================== SMOOTH SCROLL ====================
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const href = this.getAttribute('href');
                    if (href !== '#') {
                        e.preventDefault();
                        const target = document.querySelector(href);
                        if (target) {
                            target.scrollIntoView({ behavior: 'smooth' });
                        }
                    }
                });
            });

            // ==================== NAVBAR SCROLL EFFECT ====================
            window.addEventListener('scroll', () => {
                const nav = document.querySelector('.nav');
                if (window.scrollY > 50) {
                    nav.classList.add('scrolled');
                } else {
                    nav.classList.remove('scrolled');
                }
            });

            // ==================== INICIALIZAR TODO ====================
            loadArtesanos();
            loadProyectos();
            loadVoluntarios();
            loadTestimonios();
            loadBlog();
            initMap();

            // Limpiar intervalos al salir de la p√°gina
            window.addEventListener('beforeunload', () => {
                if (artesanosInterval) clearInterval(artesanosInterval);
            });
        });
    </script>
</body>

</html>